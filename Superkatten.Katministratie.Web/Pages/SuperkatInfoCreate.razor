@page "/superkatinfocreate"

@using Superkatten.Katministratie.Application.Contracts
@using Superkatten.Katministratie.Web.Services

@inject NavigationManager _navigationManager

<Input Placeholder="Name" @bind-Value="@SuperkatName"  />
<Button Type="@ButtonType.Primary" OnClick="()=>OkClick()"/>

@code
{
    [Inject]
    private ISuperkattenListService _superkattenService { get; set; }

    [Parameter]
    public int SuperkatNumber{ get; set; }


    public string SuperkatName { get; set; } = string.Empty;

    protected override bool ShouldRender()
    {
        return base.ShouldRender();
    }

    protected override async Task OnInitializedAsync() 
    {
        SuperkatName = "John Doe";
    }

    public void OkClick()
    {
        var createSuperkatParameters = new CreateSuperkatParameters
            {
                Name = SuperkatName
            };
        _superkattenService.CreateSuperkatAsync(createSuperkatParameters);
        _navigationManager.NavigateTo($"/");
    }
}