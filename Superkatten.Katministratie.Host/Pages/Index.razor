@page "/"

<PageTitle>Superkatten</PageTitle>

@if (AuthenticationService is null || Navigation is null || SuperkattenService is null || ReportingService is null)
{
    return;
}

@if (!IsAuthenticated)
{
    <Button Block Size="Size.Large" Color="Color.Primary" Clicked="@OnRegister">Register</Button>
    <Button Block Size="Size.Large" Color="Color.Primary" Clicked="@OnLogin">Login</Button>
}
else
{
    <Button Block Size="Size.Large" Color="Color.Primary" Clicked="@OnLogout">Logout</Button>
    
    <Divider />
    
    <Button Block Size="Size.Large" Color="Color.Primary" Clicked="@OnCreateSuperkat">Nieuwe kat</Button>
    
    <Divider />
    
    <Button Block Size="Size.Large" Color="Color.Primary" Clicked="@OnShowOverviewSuperkatten">Katten</Button>
    <Button Block Size="Size.Large" Color="Color.Primary" Clicked="@OnShowOverviewGastgezinnen">Gastgezinnen</Button>
    <Button Block Size="Size.Large" Color="Color.Primary" Clicked="@OnShowMedicalProcedures">Medische handelingen</Button>

    <Divider />    

    <Button Block Size="Size.Large" Color="Color.Primary" Clicked="@OnEmailCageCard">
        Email mij een kooikaart
    </Button>

    <Button Block Size="Size.Large" Color="Color.Primary" Clicked="@OnCreateWakkerDierInventoryReport">
        Email mij het wakker dier inventarisatie formulier
    </Button>
}

<Modal @ref="_authenticationDialog">
    <ModalContent Centered>
        <ModalHeader>
            <ModalTitle>Inloggen</ModalTitle>
            <CloseButton />
        </ModalHeader>
        <ModalBody>
            <Field>
                <FieldLabel>Gebruikersnaam</FieldLabel>
                <TextEdit Role="TextRole.Text" 
                          MaskType="MaskType.RegEx" 
                          EditMask="^[a-z]*$" 
                          @bind-Text="@_loginModel.Username" 
                          Placeholder="Vul de gebruikersnaam in..." 
                          KeyPress="@OnKeyPress"/>
            </Field>
            <Field>
                <FieldLabel>Wachtwoord</FieldLabel>
                <TextEdit Role="TextRole.Password" 
                          @bind-Text="@_loginModel.Password" 
                          Placeholder="Vul je wachtwoord in..."
                          KeyPress="@OnKeyPress"/>
            </Field>
        </ModalBody>
        <ModalFooter>
            <Button Color="Color.Secondary" Clicked="@HideModal">Sluiten</Button>
            <Button Color="Color.Primary" Clicked="@SaveAndHideModal">Ok</Button>
        </ModalFooter>
    </ModalContent>
</Modal>
